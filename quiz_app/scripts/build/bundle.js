!function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var i,o,r=function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var i=Array(e),o=0;for(n=0;n<t;n++)for(var r=arguments[n],c=0,s=r.length;c<s;c++,o++)i[o]=r[c];return i},c=function(e){return new Promise((function(n){e.style.height="auto",e.classList.remove("invisible-view"),e.ontransitionend=function(){e.ontransitionend=null,n()}}))},s=function(e){return new Promise((function(n){e.classList.add("invisible-view"),e.ontransitionend=function(){e.style.height="0px",e.ontransitionend=null,n()}}))},a=function(){var e;return JSON.parse(null!==(e=localStorage.getItem("best-scores"))&&void 0!==e?e:"[]")},l=function(e){var n=r(a(),[e]);localStorage.setItem("best-scores",JSON.stringify(n))},u=document.getElementById("result-view"),d=document.getElementById("answer-list"),m=document.getElementById("score"),f=document.getElementById("save-stats-btn"),y=document.getElementById("save-score-btn");f.onclick=function(){l(i),s(u).then((function(){return R()}))},y.onclick=function(){delete i.answers,l(i),s(u).then((function(){return R()}))};var p,v,g,w,h,b,I,L,E=function(e,n){return i=e,o={},n.questionList.forEach((function(e){o[e.id]=e,i.score+=i.answers[e.id].time,i.answers[e.id].content!==e.correctAnswer&&(i.score+=e.penalty)})),m.innerHTML="Twój wynik: <b>"+i.score+"</b> sek.",d.innerHTML="",Object.keys(i.answers).forEach((function(e){var n=document.createElement("li"),t=parseInt(e);if(n.innerText=i.answers[t].content.toString(),i.answers[t].content===o[t].correctAnswer)n.classList.add("correct-answer");else{n.classList.add("wrong-answer");var r=document.createElement("div");r.classList.add("penalty"),r.innerText="+"+o[t].penalty,n.appendChild(r)}d.appendChild(n)})),c(u)},q=document.getElementById("quiz-view"),B=document.getElementById("next-btn"),k=document.getElementById("prev-btn"),z=document.getElementById("cancel-btn"),T=document.getElementById("timer"),j=document.getElementById("quiz-description"),x=document.getElementById("progress"),A=document.getElementById("q-content"),S=document.getElementById("ans-input"),M={val:"",listener:function(){console.log("zmiana!")},set value(e){this.val=e,this.listener()},get value(){return this.val}},O=function(){T.innerText=""+h},P=function(){var e,n;b[I.id]=null!==(e=b[I.id])&&void 0!==e&&e,g.answers[I.id]=null!==(n=g.answers[I.id])&&void 0!==n?n:{time:0,content:0},S.value=b[I.id]?g.answers[I.id].content.toString():"",A.innerHTML=I.content},C=function(){x.innerText=w+1+" / "+v.questionList.length};B.onclick=function(){w+1<v.questionList.length&&(w+=1,I=v.questionList[w],w>0&&(k.disabled=!1),w+1==v.questionList.length&&(B.disabled=!0),P(),C())},k.onclick=function(){w>0&&(w-=1,I=v.questionList[w],0==w&&(k.disabled=!0),w+1<v.questionList.length&&(B.disabled=!1),P(),C())},T.onclick=function(){L===v.questionList.length&&(clearInterval(p),s(q).then((function(){return E(g,v)})))},z.onclick=function(){clearInterval(p),s(q).then((function(){return R()}))},S.onkeydown=function(e){13==e.keyCode&&""!==S.value&&B.click()},S.oninput=function(){""===S.value?(!0===b[I.id]&&(L-=1),b[I.id]=!1):(!1===b[I.id]&&(L+=1),b[I.id]=!0,g.answers[I.id].content=parseInt(S.value)),L===v.questionList.length?T.classList.remove("timer-disabled"):T.classList.add("timer-disabled")};var H=function(e){return M.value="a",w=0,h=0,b={},I=(v=e).questionList[0],L=0,k.disabled=!0,B.disabled=1==v.questionList.length,T.classList.add("timer-disabled"),g={score:0,answers:{},quizID:v.id},C(),j.textContent=v.description,O(),p=setInterval((function(){O(),h+=1,g.answers[I.id].time+=1}),1e3),P(),c(q).then((function(){S.focus()}))},_={id:1,content:"Ile to 2+3?",correctAnswer:5,penalty:3},D={id:4,content:"Ile to 80+3?",correctAnswer:83,penalty:10},J={id:8,content:"Ile to 24/3?",correctAnswer:8,penalty:17},N={id:10,content:"Ile to 16*2?",correctAnswer:32,penalty:15},F=[{id:1,name:"Działania arytmetyczne",description:"To jest quiz z podstawowych działań arytmetycznych",questionList:[_,D,J,N]},{id:1,name:"Mnożenie",description:"Pamiętaj, że wynik mnożenia to iloczyn!",questionList:[{id:5,content:"Ile to 80*3?",correctAnswer:240,penalty:12},{id:9,content:"Ile to 3*20?",correctAnswer:60,penalty:13},N]},{id:1,name:"Dodawanie",description:"Pamiętaj, że dodawnie jest przemienne!",questionList:[_,{id:3,content:"Ile to 38+22?",correctAnswer:60,penalty:17},D]},{id:1,name:"Dzielenie",description:"Pamiętaj, że wynik dzielenia to iloraz!",questionList:[{id:2,content:"Ile to 3333/3?",correctAnswer:1111,penalty:12},{id:7,content:"Ile to 16/2?",correctAnswer:8,penalty:19},J]}],G=document.getElementById("main-view"),K=document.getElementById("score-list"),Q=document.getElementById("quiz-list"),R=function(){return Q.innerHTML="",F.forEach((function(e){var n=document.createElement("button"),t=document.createElement("div");t.innerText=e.questionList.length.toString(),t.classList.add("question-num"),n.textContent=e.name,n.appendChild(t),n.onclick=function(){s(G).then((function(){return H(e)}))},Q.appendChild(n)})),function(){K.innerHTML="";var e=a().sort((function(e,n){return e.score<n.score?-1:1}));e.length>0&&e.slice(0,5).forEach((function(e){var n=document.createElement("li");n.innerHTML=e.score+" sek.",K.appendChild(n)}))}(),c(G)};R()}]);